<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Counter</title>
    <style>

* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: system-ui; background: #0a0a0a; color: #fff; min-height: 100vh; display: flex; align-items: center; justify-content: center; }
.container { text-align: center; }
h1 { font-size: 1.5rem; color: #888; margin-bottom: 2rem; }
.counter { font-size: 5rem; font-weight: 200; color: #5dc1d2; margin-bottom: 2rem; }
.buttons { display: flex; gap: 1rem; justify-content: center; }
button { width: 60px; height: 60px; font-size: 1.5rem; border: 2px solid #5dc1d2; border-radius: 50%; background: #1a1a2e; color: #5dc1d2; cursor: pointer; }
button:hover { background: #5dc1d2; color: #0a0a0a; }

</style>
</head>
<body>

<div class="container">
    <h1>Counter</h1>
    <div class="counter"><span id="count">0</span></div>
    <div class="buttons">
        <button onclick="appStore.decrement()">-</button>
        <button onclick="appStore.reset()">Reset</button>
        <button onclick="appStore.increment()">+</button>
    </div>
</div>

<script>
class AppStore {
  constructor() {
    this.state = { count: 0, };
    this._subscribers = [];
  }

  getState() { return this.state; }

  subscribe(callback) {
    this._subscribers.push(callback);
    return () => { this._subscribers = this._subscribers.filter(cb => cb !== callback); };
  }

  _notify() {
    this._subscribers.forEach(cb => cb(this.state));
  }

  increment(payload) {
    this.state.count++
    this._notify();
  }

  decrement(payload) {
    this.state.count--
    this._notify();
  }

  reset(payload) {
    this.state.count = 0
    this._notify();
  }

}

const appStore = new AppStore();

appStore.subscribe((state) => {
    document.getElementById('count').textContent = state.count;
});
document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('count').textContent = appStore.getState().count;
});

</script>
</body>
</html>