# Single Page App with Routing
# Run: cargo run -p poly -- poly/examples/spa.poly

let home_page = "<div class='page'><h1>Home</h1><p>Welcome to the Poly SPA demo!</p></div>"
let about_page = "<div class='page'><h1>About</h1><p>Poly is a Python-like language with built-in web framework.</p></div>"
let contact_page = "<div class='page'><h1>Contact</h1><button onclick=\"alert('Hello!')\">Say Hello</button></div>"

let routes = {"/": home_page, "/about": about_page, "/contact": contact_page}
let router_js = router(routes, "<div class='page'><h1>404</h1><p>Page not found</p></div>")

let body = """
<nav>
    <div class="logo">Poly SPA</div>
    <div class="links">
        <a href="#/">Home</a>
        <a href="#/about">About</a>
        <a href="#/contact">Contact</a>
    </div>
</nav>
<main id="app"></main>
"""

let css = """
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: system-ui; background: #0a0a0a; color: #fff; min-height: 100vh; }
nav { display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; background: #111; border-bottom: 1px solid #222; }
.logo { font-weight: 600; color: #5dc1d2; font-size: 1.2rem; }
.links { display: flex; gap: 1.5rem; }
.links a { color: #888; text-decoration: none; }
.links a:hover { color: #5dc1d2; }
main { max-width: 800px; margin: 0 auto; padding: 3rem 2rem; }
.page h1 { color: #5dc1d2; margin-bottom: 1rem; }
.page p { color: #aaa; line-height: 1.6; }
button { padding: 10px 20px; background: #5dc1d2; color: #000; border: none; border-radius: 4px; cursor: pointer; }
"""

let page = html("Poly SPA", body, css, router_js)
write_file("poly/examples/spa.html", page)

print("SPA generated: poly/examples/spa.html")
