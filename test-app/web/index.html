<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Poly Feature Test</title>
  <script defer src="https://unpkg.com/alpinejs@3/dist/cdn.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Custom Titlebar -->
  <div class="titlebar" onmousedown="if(window.ipc) window.ipc.postMessage('drag')">
    <div class="titlebar-title">Poly Feature Test v0.2.5</div>
    <div class="titlebar-buttons">
      <button onclick="poly.window.minimize()" class="titlebar-btn">â”€</button>
      <button onclick="poly.window.maximize()" class="titlebar-btn">â–¡</button>
      <button onclick="poly.window.close()" class="titlebar-btn close">âœ•</button>
    </div>
  </div>

  <div class="container" x-data="app()">
    <h1>ğŸ§ª Poly Feature Test</h1>
    <p class="subtitle">Testing all new features</p>

    <!-- Clipboard Test -->
    <div class="card">
      <h2>ğŸ“‹ Clipboard API</h2>
      <div class="row">
        <input type="text" x-model="clipboardText" placeholder="Text to copy...">
        <button @click="copyToClipboard()">Copy</button>
        <button @click="pasteFromClipboard()">Paste</button>
        <button @click="clearClipboard()">Clear</button>
      </div>
      <div class="result" x-show="clipboardResult" x-text="clipboardResult"></div>
    </div>

    <!-- Multi-Window Test -->
    <div class="card">
      <h2>ğŸªŸ Multi-Window</h2>
      <div class="row">
        <input type="text" x-model="windowTitle" placeholder="Window title...">
        <button @click="createWindow()">Create</button>
        <button @click="getWindowCount()">Count</button>
        <button @click="listWindows()">List</button>
        <button @click="closeAllWindows()">Close All</button>
      </div>
      <div class="result" x-show="windowResult" x-text="windowResult"></div>
    </div>

    <!-- File Dialog Test -->
    <div class="card">
      <h2>ğŸ“ File Dialogs</h2>
      <div class="row">
        <button @click="openFile()">Open File</button>
        <button @click="saveFile()">Save File</button>
        <button @click="pickFolder()">Pick Folder</button>
      </div>
      <div class="result" x-show="fileResult" x-text="fileResult"></div>
    </div>

    <!-- File System Test -->
    <div class="card">
      <h2>ğŸ’¾ File System</h2>
      <div class="row">
        <input type="text" x-model="fsPath" placeholder="File path...">
        <button @click="readFile()">Read</button>
        <button @click="writeFile()">Write Test</button>
        <button @click="checkExists()">Exists?</button>
      </div>
      <div class="result" x-show="fsResult" x-text="fsResult"></div>
    </div>

    <!-- Custom Dialog Test -->
    <div class="card">
      <h2>ğŸ’¬ Custom Dialogs</h2>
      <div class="row">
        <button @click="showMessage()">Message</button>
        <button @click="showConfirm()">Confirm</button>
        <button @click="showCustom()">Custom</button>
      </div>
      <div class="result" x-show="dialogResult" x-text="dialogResult"></div>
    </div>

    <!-- AI Test (if Ollama running) -->
    <div class="card">
      <h2>ğŸ¤– AI/Ollama</h2>
      <div class="row">
        <button @click="checkOllama()">Check Ollama</button>
        <button @click="listModels()">List Models</button>
      </div>
      <div class="result" x-show="aiResult" x-text="aiResult"></div>
    </div>

    <div class="footer">
      <span>Poly v0.2.5</span>
      <span x-text="'Tests: ' + testsRun"></span>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
